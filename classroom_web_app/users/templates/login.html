{% extends "base.html" %}
{% block title %}Login - ClassConnect{% endblock %}
{% block content %}
<div class="min-h-screen flex items-center justify-center bg-gradient-to-r from-purple-50 to-white p-4">
    <div class="flex flex-col lg:flex-row bg-white shadow-2xl rounded-2xl overflow-hidden w-full max-w-6xl">
        <!-- Left Section - Login Form -->
        <div class="w-full lg:w-1/2 p-10">
            <div class="flex items-center mb-8">
                <svg class="w-8 h-8 text-custom-purple mr-2" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd"></path>
                </svg>
                <h2 class="text-3xl font-bold text-custom-purple">Welcome Back</h2>
            </div>

            {% if messages %}
            <div class="mb-6 transition-all duration-300">
                {% for message in messages %}
                <div class="p-3 text-white rounded-lg {% if message.tags == 'error' %} bg-red-500 {% else %} bg-green-500 {% endif %} shadow-md">
                    {{ message }}
                </div>
                {% endfor %}
            </div>
            {% endif %}

            <form method="post" class="space-y-6">
                {% csrf_token %}
                <div class="space-y-2">
                    <label for="username" class="block text-sm font-medium text-purple-900">Username</label>
                    <input type="text" name="username" id="username" required
                        class="mt-1 block w-full px-4 py-3 border border-purple-200 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 placeholder-purple-300">
                </div>
                <div class="space-y-2">
                    <label for="password" class="block text-sm font-medium text-purple-900">Password</label>
                    <input type="password" name="password" id="password" required
                        class="mt-1 block w-full px-4 py-3 border border-purple-200 rounded-lg shadow-sm focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200 placeholder-purple-300">
                </div>

                <div class="text-right">
                    <a href="{% url 'forgot_password' %}" class="text-sm text-purple-600 hover:text-purple-800 font-medium transition duration-200">
                        Forgot Password?
                    </a>
                </div>
                
                <div class="pt-2">
                    {{ captcha_form.captcha }}
                </div>
                <div class="pt-4">
                    <button type="submit"
                        class="w-full bg-gradient-to-r from-purple-600 to-purple-700 text-white px-4 py-3 rounded-lg hover:from-purple-700 hover:to-purple-800 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 shadow-lg hover:shadow-xl transition-all duration-300 font-medium">
                        Sign In
                    </button>
                </div>
            </form>
            <div class="mt-6 text-center">
                <p class="text-sm text-purple-700">Don't have an account?
                    <a href="{% url 'register' %}" class="font-medium text-purple-600 hover:text-purple-800 transition-colors duration-200">Register here</a>
                </p>
            </div>
        </div>

        <!-- Right Section - Premium Illustration & App Info -->
        <div class="w-full lg:w-1/2 bg-gradient-to-br from-purple-50 to-white p-10 flex flex-col items-center justify-center border-l border-purple-100">
            <div class="max-w-md">
                <!-- Premium Notebook/Pencil Illustration -->
                <div class="mb-8 transform hover:scale-105 transition-transform duration-500">
                    <svg viewBox="0 0 500 400" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto">
                        <!-- Background -->
                        <rect width="500" height="400" fill="#F5F3FF" rx="10" ry="10"/>
                        
                        <!-- Notebook -->
                        <rect x="100" y="80" width="300" height="240" fill="#FFFFFF" rx="5" ry="5" stroke="#7C3AED" stroke-width="2"/>
                        <rect x="120" y="100" width="260" height="200" fill="#EDE9FE" rx="3" ry="3"/>
                        
                        <!-- Notebook lines -->
                        <line x1="120" y1="130" x2="380" y2="130" stroke="#C4B5FD" stroke-width="1" stroke-dasharray="3,3"/>
                        <line x1="120" y1="160" x2="380" y2="160" stroke="#C4B5FD" stroke-width="1" stroke-dasharray="3,3"/>
                        <line x1="120" y1="190" x2="380" y2="190" stroke="#C4B5FD" stroke-width="1" stroke-dasharray="3,3"/>
                        <line x1="120" y1="220" x2="380" y2="220" stroke="#C4B5FD" stroke-width="1" stroke-dasharray="3,3"/>
                        <line x1="120" y1="250" y2="250" x2="380" stroke="#C4B5FD" stroke-width="1" stroke-dasharray="3,3"/>
                        
                        <!-- Notebook spiral -->
                        <path d="M100 80 Q105 90 100 100 Q95 110 100 120 Q105 130 100 140 Q95 150 100 160 Q105 170 100 180 Q95 190 100 200 Q105 210 100 220 Q95 230 100 240 Q105 250 100 260 Q95 270 100 280 Q105 290 100 300 Q95 310 100 320" stroke="#7C3AED" stroke-width="3" fill="none"/>
                        
                        <!-- Pencils -->
                        <rect x="150" y="320" width="120" height="15" rx="3" ry="3" transform="rotate(30 150 320)" fill="#8B5CF6"/>
                        <polygon points="270,320 280,315 280,325" fill="#5B21B6"/>
                        
                        <rect x="200" y="340" width="100" height="12" rx="3" ry="3" transform="rotate(-15 200 340)" fill="#A78BFA"/>
                        <polygon points="300,340 310,337 310,343" fill="#7C3AED"/>
                        
                        <!-- Ruler -->
                        <rect x="250" y="290" width="120" height="8" rx="2" ry="2" fill="#C4B5FD"/>
                        <line x1="250" y1="290" x2="250" y2="298" stroke="#7C3AED" stroke-width="1"/>
                        <line x1="270" y1="290" x2="270" y2="298" stroke="#7C3AED" stroke-width="1"/>
                        <line x1="290" y1="290" x2="290" y2="298" stroke="#7C3AED" stroke-width="1"/>
                        <line x1="310" y1="290" x2="310" y2="298" stroke="#7C3AED" stroke-width="1"/>
                        <line x1="330" y1="290" x2="330" y2="298" stroke="#7C3AED" stroke-width="1"/>
                        <line x1="350" y1="290" x2="350" y2="298" stroke="#7C3AED" stroke-width="1"/>
                        <line x1="370" y1="290" x2="370" y2="298" stroke="#7C3AED" stroke-width="1"/>
                        
                        <!-- Login text in notebook -->
                        <text x="250" y="150" font-family="Arial" font-size="24" fill="#5B21B6" text-anchor="middle" font-weight="bold">Login to</text>
                        <text x="250" y="180" font-family="Arial" font-size="24" fill="#7C3AED" text-anchor="middle" font-weight="bold">ClassConnect</text>
                    </svg>
                </div>
                
                <!-- App Description -->
                <div class="text-center px-6">
                    <h3 class="text-2xl font-bold text-purple-900 mb-4">Continue Your Learning Journey</h3>
                    <p class="text-purple-700 mb-3 leading-relaxed">
                        Access your personalized classroom dashboard where all your courses, assignments, and resources are organized in one place.
                    </p>
                    <p class="text-purple-700 mb-3 leading-relaxed">
                        Connect with your educators and classmates, track your progress, and never miss an important update.
                    </p>
                    <p class="text-purple-700 leading-relaxed">
                        Secure login ensures your educational data remains private and protected at all times.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}